#%Module1.0#####################################################################
##
## cams50 modulefile


set appname   "uemep"
set release   201810
set apphome   /modules/xenial/user-apps
set appurl    https://github.com/metno/uEMEP

proc ModulesDisplay {} {
  global appname release apphome

  puts stderr "\nLoads $appname version $release"
}

proc ModulesHelp { } {
  global appname appurl modulefile apphome release

  puts stderr "The $appname modulefile defines the default system paths and"
  puts stderr "environment variables needed to use $appname release $release.\n"
  puts stderr "Documentation on $appurl.\n"
}

module-whatis   "Setup for $appname local fraction clculations"

#odule purge
module load compiler/intelPE2018
module load netcdf/4.5.0intel18

set root                $apphome/$appname/$release
set data                /lustre/storeA/project/fou/kl/emep/ModelRuns
set meps                /lustre/storeA/project/metproduction/products/meps/member_0
set type                40to5km
set utc                 00

prepend-path PATH       $root/bin
append-path  PYTHONPATH $root/lib/python3.5/site-packages

setenv uEMEP_DATA       $data
setenv uEMEP_INPUT      $root/share/data
setenv uEMEP_METEO      $meps

setenv uEMEP_CONFIG     $root/share/uEMEP_%s.txt
setenv uEMEP_TILE_DEF   $root/share/uEMEP_tile_$type.txt
setenv uEMEP_TILE_TAG   $type\_%05d
setenv uEMEP_OUTPUT     $data/uEMEP/%Y/%m/%d/uEMEP_Norway_%%s_%Y%m%d_$utc.nc
